<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bucles FOR - Aventuras Piratas</title>
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/responsive.css">
    
    <!-- Estilos adicionales para el verificador -->
    <style>
        .execution-status {
            background: #f8f9fa;
            border: 2px solid #ddd;
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            text-align: center;
            transition: all 0.3s ease;
        }

        .execution-status.waiting {
            border-color: #ffc107;
            background: #fff3cd;
        }

        .execution-status.executed {
            border-color: #28a745;
            background: #d4edda;
            animation: pulse-success 1s ease-in-out;
        }

        .execution-status.error {
            border-color: #dc3545;
            background: #f8d7da;
        }

        @keyframes pulse-success {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }

        .status-icon {
            font-size: 1.5rem;
            margin-right: 8px;
        }

        .verify-button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            margin: 10px 5px;
            transition: all 0.3s ease;
        }

        .verify-button:hover {
            background: #0056b3;
            transform: translateY(-2px);
        }

        .verify-button:disabled {
            background: #6c757d;
            cursor: not-allowed;
            transform: none;
        }

        .mini-log {
            background: #1e1e1e;
            color: #00ff00;
            font-family: 'Courier New', monospace;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            font-size: 0.8rem;
            max-height: 100px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè¥‚Äç‚ò†Ô∏è Aventuras Piratas üè¥‚Äç‚ò†Ô∏è</h1>
            <p>Aprende bucles FOR y WHILE con el Capit√°n CodeBeard</p>
            <div class="pirate-emoji">‚öîÔ∏èü¶úü™ô</div>
            <div class="contador-monedas-container">
                <div class="monedas-info">
                    <span class="monedas-label">ü™ô Monedas de Oro:</span>
                    <span id="contador-monedas" class="monedas-count">0</span>
                    <div class="monedas-objetivo">
                        Meta: 12 monedas para ser Maestro Pirata
                    </div>
                </div>
            </div>
        </div>

        <!-- Navegaci√≥n Principal -->
        <div class="lesson-section">
            <div class="navigation-tabs">
                <a href="index.html" class="nav-tab">üß≠ Introducci√≥n</a>
                <a href="bucles-for.html" class="nav-tab active">üó∫Ô∏è Bucles FOR</a>
                <a href="bucles-while.html" class="nav-tab">‚öîÔ∏è Bucles WHILE</a>
                <a href="comparacion.html" class="nav-tab">‚öñÔ∏è Comparaci√≥n</a>
                <a href="desafios.html" class="nav-tab">üèÜ Desaf√≠os</a>
            </div>

            <!-- Contenido FOR -->
            <div class="for-content">
                <h2 class="lesson-title">
                    üó∫Ô∏è Bucle FOR: Siguiendo el Mapa del Tesoro
                </h2>

                <div class="story-box">
                    <p>
                        <strong>Historia:</strong> El Capit√°n CodeBeard tiene un mapa con
                        5 islas marcadas. Cada isla contiene un tesoro, pero para
                        encontrarlos todos, necesitamos visitar cada una de ellas de
                        manera sistem√°tica. ¬°Los bucles FOR son perfectos para esta tarea!
                    </p>
                    <p>
                        Un bucle FOR se usa cuando
                        <strong>sabemos exactamente cu√°ntas veces</strong> queremos
                        repetir una acci√≥n.
                    </p>
                    
                    </div>
                    <p>
                        Antes de ejecutar los c√≥digos y contestar los cuestionarios, atiende el siguiente video: 
                    
                     <a
                href="https://www.youtube.com/embed/dsbhpCzQeTc?si=_2Ku-KRx7rCwKKbs"
                target="_blank"
            ><b>AQU√ç</b></a></p>

                <!-- Primer Ejercicio: Islas -->
                <div class="interactive-section">
                    <h3>üéÆ ¬°Prueba el c√≥digo!</h3>
                    
                    <!-- Estado de ejecuci√≥n -->
                    <div class="execution-status waiting" id="execution-status-1">
                        <span class="status-icon">‚è≥</span>
                        <strong>Estado:</strong> <span id="status-text-1">Presiona ‚ñ∂Ô∏è Ejecutar en el IDE para comenzar</span>
                    </div>

                    <div class="output" id="for-output">
                        <p>Presiona el bot√≥n Run para comenzar la aventura...</p>
                    </div>
                    <div class="code-container">
                        <div class="code-title">üèùÔ∏è Visitando las 5 Islas del Tesoro</div>
                        <iframe
                            src="https://disenioweb2025.github.io/ide_basico_python/?codigo=JTIzTGlzdGElMjBkZSUyMGlzbGFzJTIwZW4lMjBudWVzdHJvJTIwbWFwYSUwQWlzbGFzJTIwJTNEJTIwJTVCJTIySXNsYSUyMENhbGF2ZXJhJTIyJTJDJTIySXNsYSUyMExvcm8lMjIlMkMlMjJJc2xhJTIwQ2ElQzMlQjElQzMlQjNuJTIyJTJDJTIySXNsYSUyMFNpcmVuYSUyMiUyQyUyMklzbGElMjBEb3JhZGElMjIlNUQlMEElMEElMjMlMjBFbCUyMGJ1Y2xlJTIwRk9SJTIwdmlzaXRhJTIwY2FkYSUyMGlzbGElMjBhdXRvbSVDMyVBMXRpY2FtZW50ZSUwQWZvciUyMGlzbGElMjBpbiUyMGlzbGFzJTNBJTBBJTIwJTIwcHJpbnQoZiUyMiVGMCU5RiU4RiVCNCVFMiU4MCU4RCVFMiU5OCVBMCVFRiVCOCU4RiUyMExsZWdhbW9zJTIwYSUyMCU3QmlzbGElN0QhJTIyKSUyMCUwQSUyMCUyMHByaW50KCUyMiVGMCU5RiU5NCU4RCUyMEJ1c2NhbmRvJTIwdGVzb3Jvcy4uLiUyMCElMjIpJTBBJTIwJTIwcHJpbnQoJTIyJUYwJTlGJTkyJUIwJTIwJUMyJUExVGVzb3JvJTIwZW5jb250cmFkbyElMjIpJTBBJTIwJTIwcHJpbnQoJTIyLS0tJTIyKSUwQSUwQSUyMyUyMCVGMCU5RiU4RiVCNCVFMiU4MCU4RCVFMiU5OCVBMCVFRiVCOCU4RiUyMCVDMiVBMUVzY3JpYmUlMjB0dSUyMGMlQzMlQjNkaWdvJTIwYXF1JUMzJUFEISUwQSUyMyUyMEVqZW1wbG8lM0ElMjBjcmVhciUyMHVuYSUyMGxpc3RhJTIwZGUlMjB0ZXNvcm9z"
                            width="100%"
                            height="650"
                            frameborder="0"
                            data-exercise="for-islas"
                            id="iframe-1"
                        ></iframe>

                        <!-- Controles de verificaci√≥n -->
                        <div class="verify-controls">
                            <button class="verify-button" onclick="verificarEjecucion(1)" id="verify-btn-1">
                                üîç Verificar Ejecuci√≥n
                            </button>
                            <div class="mini-log" id="log-1" style="display: none;">
                                [Sistema] Listo para verificar...
                            </div>
                        </div>
                        
                        <div class="quiz">
                            <p>
                                <strong>
                                    ¬øCu√°ntas veces se imprime la l√≠nea "üí∞ ¬°Tesoro
                                    encontrado!"?
                                </strong><br>
                            </p>
                            <form>
                                <label>
                                    <input type="radio" name="quiz-for-islas" value="a"> 
                                    a) 1 vez
                                </label>
                                <label>
                                    <input type="radio" name="quiz-for-islas" value="b"> 
                                    b) 3 veces
                                </label>
                                <label>
                                    <input type="radio" name="quiz-for-islas" value="c"> 
                                    c) 5 veces
                                </label>
                                <label>
                                    <input type="radio" name="quiz-for-islas" value="d"> 
                                    d) Depende del usuario
                                </label><br>
                                <button
                                    type="button"
                                    onclick="verificarRespuesta('for-islas', 'c')"
                                >
                                    Responder
                                </button>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- Segundo Ejercicio: Monedas -->
                <div class="interactive-section">
                    <h3>üéÆ ¬°Continua probando c√≥digo!</h3>
                    <div class="output" id="for-output2">
                        <p>Luego de ejecutar, haz cambios...</p>
                    </div>
                    <div class="code-container">
                        <div class="code-title">
                            üî¢ Contando Monedas de Oro (FOR con n√∫meros)
                        </div>
                        <iframe
                            src="https://trinket.io/embed/python3/7b273451c092"
                            width="100%"
                            height="350"
                            frameborder="0"
                            data-exercise="for-monedas"
                        ></iframe>
                        <div class="quiz">
                            <p>
                                <strong>
                                    ¬øQu√© ocurrir√≠a si se usara <code>range(1, 11, 2)</code> en
                                    lugar de <code>range(1, 11)</code> en el c√≥digo?
                                </strong>
                            </p>
                            <br>
                            <form>
                                <label>
                                    <input type="radio" name="quiz-for-monedas" value="a"> 
                                    a) Solo se imprimir√°n los n√∫meros pares entre 1 y 10.
                                </label>
                                <label>
                                    <input type="radio" name="quiz-for-monedas" value="b"> 
                                    b) Solo se imprimir√°n los n√∫meros impares entre 1 y 10.
                                </label>
                                <label>
                                    <input type="radio" name="quiz-for-monedas" value="c"> 
                                    c) El bucle no se ejecutar√° porque el rango est√° mal
                                    definido.
                                </label>
                                <label>
                                    <input type="radio" name="quiz-for-monedas" value="d"> 
                                    d) Se imprimir√° un error porque range() no acepta tres
                                    argumentos.
                                </label><br>
                                <button
                                    type="button"
                                    onclick="verificarRespuesta('for-monedas', 'b')"
                                >
                                    Responder
                                </button>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- Tercer Ejercicio: N√∫meros -->
                <div class="interactive-section">
                    <h3>üéÆ ¬°Continua con m√°s pruebas!</h3>
                    <div class="output" id="for-output3">
                        <p>Experimenta con range...</p>
                    </div>
                    <div class="code-container">
                        <div class="code-title">üî¢ ¬°Contando piratas!</div>
                        <iframe
                            src="https://trinket.io/embed/python3/1c13e72c3991"
                            width="100%"
                            height="350"
                            frameborder="0"
                            data-exercise="for-numeros"
                        ></iframe>
                        <div class="quiz">
                            <p><strong>¬øQu√© controla el n√∫mero de repeticiones?</strong></p>
                            <br>
                            <form>
                                <label>
                                    <input type="radio" name="quiz-for-numeros" value="a"> 
                                    a) El valor final en range()
                                </label>
                                <label>
                                    <input type="radio" name="quiz-for-numeros" value="b"> 
                                    b) Una lista de cadenas
                                </label>
                                <label>
                                    <input type="radio" name="quiz-for-numeros" value="c"> 
                                    c) La variable 'isla'
                                </label>
                                <label>
                                    <input type="radio" name="quiz-for-numeros" value="d"> 
                                    d) Ninguno
                                </label><br>
                                <button
                                    type="button"
                                    onclick="verificarRespuesta('for-numeros', 'a')"
                                >
                                    Responder
                                </button>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- Explicaci√≥n T√©cnica -->
                <div class="treasure-box">
                      <h3>üß≠ Resumen del Bucle FOR</h3>
                    <p>
                        <strong>¬øCu√°ndo usar FOR?</strong> Cuando sabes exactamente
                        cu√°ntas veces quieres repetir algo:
                    </p>
                    <ul>
                        <li>
                            Recorrer una lista de elementos (islas, tripulantes, tesoros)
                        </li>
                        <li>Repetir una acci√≥n un n√∫mero espec√≠fico de veces</li>
                        <li>Procesar cada elemento de una colecci√≥n</li>
                    </ul>
                    
                    <p><strong>Sintaxis b√°sica con listas:</strong></p>
                    <pre>for elemento in lista:
    # c√≥digo a repetir
    print(elemento)</pre>

                    <p><strong>Sintaxis con range() para n√∫meros:</strong></p>
                    <pre>for numero in range(inicio, fin, paso):
    # c√≥digo a repetir
    print(numero)</pre>
                    
                    <p><strong>Ejemplos de range():</strong></p>
                    <ul>
                        <li><code>range(5)</code> ‚Üí genera n√∫meros del 0 al 4 (5 n√∫meros)</li>
                        <li><code>range(1, 6)</code> ‚Üí genera n√∫meros del 1 al 5</li>
                        <li><code>range(1, 10, 2)</code> ‚Üí genera n√∫meros impares del 1 al 9 (1, 3, 5, 7, 9)</li>
                        <li><code>range(10, 0, -1)</code> ‚Üí genera n√∫meros del 10 al 1 en orden descendente</li>
                    </ul>
                     <p>
                        <strong>¬°Perfecto para aventuras piratas organizadas!</strong>
                        Usa listas cuando tengas elementos espec√≠ficos, y range() cuando necesites n√∫meros secuenciales.
                    </p>

                </div>
            </div>
        </div>
    </div>
    <div class="boton-container">
  <button class="boton-ir" onclick="location.href='bucles-while.html'">
    Ir a Bucles WHILE
  </button>
</div>

    <!-- Footer -->
    <footer>
        <p>
            Creado por: Elizabeth Izquierdo - N√©stor Larroca<br/> ¬∑ Licencia
            <a
                href="https://creativecommons.org/licenses/by-nc-sa/4.0/"
                target="_blank"
            >CC BY-NC-SA 4.0</a>
        </p>
    </footer>

    <script src="script.js"></script>
    
    <!-- Script adicional para verificaci√≥n simple -->
    <script>
        // Funci√≥n simplificada para verificar solo ejecuci√≥n
        async function verificarEjecucion(ejercicioNum) {
            const iframe = document.getElementById(`iframe-${ejercicioNum}`);
            const statusElement = document.getElementById(`execution-status-${ejercicioNum}`);
            const statusText = document.getElementById(`status-text-${ejercicioNum}`);
            const verifyBtn = document.getElementById(`verify-btn-${ejercicioNum}`);
            const logElement = document.getElementById(`log-${ejercicioNum}`);

            // Mostrar estado de verificaci√≥n
            verifyBtn.disabled = true;
            verifyBtn.textContent = "üîç Verificando...";
            logElement.style.display = "block";
            
            log(ejercicioNum, "Iniciando verificaci√≥n...");

            try {
                // Acceder al contenido del iframe
                const iframeWindow = iframe.contentWindow;
                
                if (!iframeWindow) {
                    throw new Error("No se puede acceder al IDE");
                }

                log(ejercicioNum, "Accediendo al estado del IDE...");

                // Verificar si Python est√° cargado
                const estado = iframeWindow.getPythonExecutionStatus();
                
                if (estado.isLoading) {
                    log(ejercicioNum, "‚è≥ Python a√∫n se est√° cargando");
                    alert("Python a√∫n se est√° cargando. Por favor espera e intenta nuevamente.");
                    return;
                }

                log(ejercicioNum, `Estado obtenido: ${JSON.stringify(estado)}`);

                // Verificar si se ejecut√≥ el c√≥digo (con √©xito o error)
                if (estado.success || estado.error) {
                    // El c√≥digo fue ejecutado
                    statusElement.className = "execution-status executed";
                    statusText.textContent = "¬°C√≥digo ejecutado exitosamente! üéâ";
                    
                    log(ejercicioNum, "‚úÖ ¬°C√≥digo ejecutado correctamente!");
                    
                    if (estado.success) {
                        log(ejercicioNum, "Sin errores de ejecuci√≥n");
                    } else {
                        log(ejercicioNum, `Ejecutado con errores: ${estado.error}`);
                    }

                    // Agregar moneda de oro
                    agregarMoneda();
                    
                } else {
                    // El c√≥digo no ha sido ejecutado
                    statusElement.className = "execution-status waiting";
                    statusText.textContent = "A√∫n no has ejecutado el c√≥digo. Presiona ‚ñ∂Ô∏è en el IDE";
                    
                    log(ejercicioNum, "‚ö†Ô∏è C√≥digo no ejecutado");
                    alert("No se detect√≥ ejecuci√≥n del c√≥digo. Aseg√∫rate de presionar el bot√≥n ‚ñ∂Ô∏è Ejecutar en el IDE.");
                }

            } catch (error) {
                console.error("Error al verificar:", error);
                
                statusElement.className = "execution-status error";
                statusText.textContent = "Error al verificar. Intenta recargar la p√°gina.";
                
                log(ejercicioNum, `‚ùå Error: ${error.message}`);
                alert(`Error al verificar: ${error.message}`);
            } finally {
                verifyBtn.disabled = false;
                verifyBtn.textContent = "üîç Verificar Ejecuci√≥n";
            }
        }

        // Funci√≥n para agregar monedas (compatible con tu sistema existente)
        function agregarMoneda() {
            const contador = document.getElementById('contador-monedas');
            let monedas = parseInt(contador.textContent) || 0;
            monedas++;
            contador.textContent = monedas;
            
            // Guardar en localStorage si existe esa funcionalidad
            if (typeof localStorage !== 'undefined') {
                localStorage.setItem('monedas-piratas', monedas.toString());
            }
            
            console.log(`ü™ô Moneda a√±adida! Total: ${monedas}`);
        }

        // Funci√≥n de logging simple
        function log(ejercicioNum, mensaje) {
            const logElement = document.getElementById(`log-${ejercicioNum}`);
            if (logElement) {
                const timestamp = new Date().toLocaleTimeString();
                logElement.innerHTML += `<br>[${timestamp}] ${mensaje}`;
                logElement.scrollTop = logElement.scrollHeight;
            }
            console.log(`[Ejercicio ${ejercicioNum}] ${mensaje}`);
        }

        // Cargar monedas guardadas al iniciar la p√°gina
        window.addEventListener('load', () => {
            if (typeof localStorage !== 'undefined') {
                const monedasGuardadas = localStorage.getItem('monedas-piratas');
                if (monedasGuardadas) {
                    document.getElementById('contador-monedas').textContent = monedasGuardadas;
                }
            }
        });
    </script>
</body>
</html>
                            
